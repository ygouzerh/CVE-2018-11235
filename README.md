# CVE-2018-11235

## Environnement

Toutes les dépendances sont gérées par pip. Pour isoler l'instalaltion des dépendances,
vous pouvez utiliser le concept de virtualenv (voir https://python-guide-pt-br.readthedocs.io/fr/latest/dev/virtualenvs.html pour plus d'informations).

Pour utiliser ce package, utilisez les commande ci-dessous :


```sh
python3 -m pip install --user virtualenv
```

```sh
python3 -m virtualenv venv
```

Après l'installation, activez virtualenv.

```sh
source <project_directory>venv/bin/activate
```

La dernière étape consiste à installer toutes les dépendances dans des environnements virtuels.

```sh
pip install -r requirements.txt
```

Pour désactiver le virtualenv, executez la commande suivante : 

```sh
deactivate
```

## Getting started

pour build les conteneurs dockers, utilisez :

```sh
make docker
```

pour démarrer le conteneur du serveur attaquant, utilisez :

``` sh
make run_server
```

pour démarrer le conteneur représentant la victime, utilisez :

``` sh
make run_client
```

Suivez les instructions de la console des clients pour cloner le dépôt git malveillant.

Vous constaterez que l'adresse IP et le nom d'utilisateur de la victime sont transmis au serveur.

Après le clone, vérifiez que la clé publique des attaquants est bien ajoutée aux authorized_keys du client.


Ensuite, vous pouvez ouvrir un shell sur le client depuis le serveur, grâce à la commande :

```sh
make server_bash
```

`ssh <transmitted_username>@<transmitted_host>`

## Questions

Si vous avez quelques problèmes que ce soit pour executer ce Proof of Concept, veuillez créer
une issue sur ce dépôt: https://github.com/ygouzerh/CVE-2018-11235/issues , nous vous répondrons le plus
rapidement possible.

